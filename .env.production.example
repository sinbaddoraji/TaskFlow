# TaskFlow Production Environment Configuration
# Copy this file to .env.production and update with your actual values

# ============================================
# CRITICAL: MUST BE CHANGED FROM DEFAULTS
# ============================================

# MongoDB Credentials (REQUIRED - Must be strong passwords)
MONGO_ROOT_USERNAME=admin
MONGO_ROOT_PASSWORD=CHANGE_THIS_STRONG_PASSWORD_123!

# JWT Secret (REQUIRED - Must be at least 32 characters)
# Generate with: openssl rand -base64 32
JWT_SECRET=CHANGE_THIS_TO_A_VERY_LONG_RANDOM_STRING_AT_LEAST_32_CHARS!

# ============================================
# APPLICATION CONFIGURATION
# ============================================

# Frontend Configuration
FRONTEND_PORT=80
FRONTEND_URL=https://your-domain.com
API_BASE_URL=https://your-domain.com/api/v1

# Additional CORS Origins (comma-separated if needed)
ADDITIONAL_CORS_ORIGIN=https://www.your-domain.com

# JWT Configuration
JWT_ISSUER=TaskFlowAPI
JWT_AUDIENCE=TaskFlowClient
JWT_EXPIRATION=1440  # Access token expiration in minutes (24 hours)
JWT_REFRESH_EXPIRATION=30  # Refresh token expiration in days

# ============================================
# SECURITY CONFIGURATION
# ============================================

# Security Features
ENABLE_RATE_LIMITING=true
ENABLE_CSRF=true
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=15  # Minutes

# Password Policy
PASSWORD_REQUIRE_DIGIT=true
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_SPECIAL=true
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true

# ============================================
# LOGGING CONFIGURATION
# ============================================

# Log Level: Trace, Debug, Information, Warning, Error, Fatal
LOG_LEVEL=Information

# ============================================
# DEPLOYMENT NOTES
# ============================================

# 1. Generate secure passwords:
#    - MongoDB: openssl rand -base64 32
#    - JWT Secret: openssl rand -base64 64

# 2. Update domain names:
#    - Replace 'your-domain.com' with your actual domain
#    - Ensure FRONTEND_URL matches your domain with HTTPS

# 3. SSL/TLS Setup:
#    - Use a reverse proxy (nginx/traefik) for SSL termination
#    - Or use Cloudflare for SSL

# 4. Backup Configuration:
#    - Set up automated MongoDB backups
#    - Consider using volume snapshots

# 5. Monitoring:
#    - Configure Portainer alerts
#    - Set up log aggregation if needed

# 6. Security Checklist:
#    [ ] Changed all default passwords
#    [ ] Updated JWT secret
#    [ ] Configured correct domain names
#    [ ] Enabled HTTPS/SSL
#    [ ] Restricted database ports
#    [ ] Set up firewall rules
#    [ ] Configured backup strategy
#    [ ] Tested rate limiting